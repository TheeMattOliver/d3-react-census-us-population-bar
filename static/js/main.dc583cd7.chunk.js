(this["webpackJsonpd3-react-census-us-population-bar"]=this["webpackJsonpd3-react-census-us-population-bar"]||[]).push([[0],{44:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(1),c=n.n(r),u=n(21),i=n.n(u),s=n(11),o=n(3),l=n(2),f=n(22),d=(new Map([["<10",["003","004","027","028"]],["10-19",["005","006","007","029","030","031"]],["20-29",["008","009","010","011","032","033","034","035"]],["30-39",["012","013","036","037"]],["40-49",["014","015","038","039"]],["50-59",["016","017","040","041"]],["60-69",["018","019","020","021","042","043","044","045"]],["70-79",["022","023","046","047"]],["\u226580",["024","025","048","049"]]].map((function(t){var e=Object(o.a)(t,2);return[e[0],e[1].map((function(t){return"B01001_".concat(t,"E")}))]}))),new Map([["*","All states"],["01","AL"],["02","AK"],["04","AZ"],["05","AR"],["06","CA"],["08","CO"],["09","CT"],["10","DE"],["11","DC"],["12","FL"],["13","GA"],["15","HI"],["16","ID"],["17","IL"],["18","IN"],["19","IA"],["20","KS"],["21","KY"],["22","LA"],["23","ME"],["24","MD"],["25","MA"],["26","MI"],["27","MN"],["28","MS"],["29","MO"],["30","MT"],["31","NE"],["32","NV"],["33","NH"],["34","NJ"],["35","NM"],["36","NY"],["37","NC"],["38","ND"],["39","OH"],["40","OK"],["41","OR"],["42","PA"],["44","RI"],["45","SC"],["46","SD"],["47","TN"],["48","TX"],["49","UT"],["50","VT"],["51","VA"],["53","WA"],["54","WV"],["55","WI"],["56","WY"],["72","PR"]])),E=function(t,e){var n,a=Object(f.a)(t.entries());try{for(a.s();!(n=a.n()).done;){var r=Object(o.a)(n.value,2),c=r[0];if(r[1]===e)return c}}catch(u){a.e(u)}finally{a.f()}},b={B01001_003E:"<5",B01001_004E:"5-9",B01001_005E:"10-14",B01001_006E:"15-19",B01001_007E:"15-19",B01001_008E:"20-24",B01001_009E:"20-24",B01001_010E:"20-24",B01001_011E:"25-29",B01001_012E:"30-34",B01001_013E:"35-39",B01001_014E:"40-44",B01001_015E:"45-49",B01001_016E:"50-54",B01001_017E:"55-59",B01001_018E:"60-64",B01001_019E:"60-64",B01001_020E:"65-69",B01001_021E:"65-69",B01001_022E:"70-74",B01001_023E:"75-79",B01001_024E:"80-84",B01001_025E:"\u226585",B01001_027E:"<5",B01001_028E:"5-9",B01001_029E:"10-14",B01001_030E:"15-19",B01001_031E:"15-19",B01001_032E:"20-24",B01001_033E:"20-24",B01001_034E:"20-24",B01001_035E:"25-29",B01001_036E:"30-34",B01001_037E:"35-39",B01001_038E:"40-44",B01001_039E:"45-49",B01001_040E:"50-54",B01001_041E:"55-59",B01001_042E:"60-64",B01001_043E:"60-64",B01001_044E:"65-69",B01001_045E:"65-69",B01001_046E:"70-74",B01001_047E:"75-79",B01001_048E:"80-84",B01001_049E:"\u226585"},j=function(t){var e=new Map(t.data.map((function(t,e){return[t,e]})));Object(s.a)(t.data).map((function(t){return Array.from(b,(function(n){return Object(l.j)(n,(function(n){return t[e.get(n)]}))}))}));return Object(a.jsx)("h2",{className:"title",children:"US Population by Age, by State. "})},B=n(23),_=function(t){var e=Object(r.useState)(null),n=Object(o.a)(e,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){var e=t.current,n=new B.a((function(t){t.forEach((function(t){c(t.contentRect)}))}));return n.observe(e),function(){n.unobserve(e)}}),[t]),a};var p=function(t){var e=t.data,n=t.property,c=Object(r.useRef)(),u=Object(r.useRef)(),i=_(u);return Object(r.useEffect)((function(){console.log("Render, dimensions: ",i);var t=l.i(c.current),n=i||u.current.getBoundingClientRect(),a=n.width,r=n.height,s=5,o=5,f=5,d=5,E=a-d-o,b=r-s-f,j=l.g().domain(e.map((function(t){return t.name}))).range([b-f,s]).padding(.1),B=l.h().domain([0,l.e(e,(function(t){return t.value}))]).range([d,E-o]);t.append("g").attr("class","x-axis"),t.append("g").attr("class","y-axis"),t.select(".x-axis").attr("transform","translate(0,".concat(b-f,")")).call((function(t){return t.transition().call(l.a(B).ticks(a/80,"s"))})).call((function(t){return t.select(".domain").remove()})),t.select(".y-axis").attr("transform","translate(".concat(d,",0)")).call((function(t){return t.transition().call(l.b(j).tickSizeOuter(0))})),t.append("g").attr("fill","steelblue").selectAll("rect").data(e).enter().append("rect").attr("class","bar").attr("width",0),t.append("g").attr("fill","white").attr("text-anchor","end").style("font","12px sans-serif").selectAll("text").data(e).enter().append("text").attr("class","label").attr("dy","0.35em").attr("x",B(0)-4),t.selectAll(".bar").data(e,(function(t){return t.name})).attr("x",B(0)).attr("y",(function(t){return j(t.name)})).attr("height",j.bandwidth()).transition().delay((function(t,e){return 20*e})).attr("width",(function(t){return B(t.value)-B(0)})),t.selectAll(".label").data(e,(function(t){return t.name})).attr("y",(function(t){return j(t.name)+j.bandwidth()/2})).text((function(t){return t.value.toLocaleString()})).transition().delay((function(t,e){return 20*e})).attr("x",(function(t){return B(t.value)-4}))}),[e,i,n]),Object(a.jsx)("div",{ref:u,style:{marginBottom:"2rem "},children:Object(a.jsx)("svg",{ref:c,style:{height:"500px",marginTop:"5px"}})})};n(44);var O=function(){var t=Object(r.useState)("All states"),e=Object(o.a)(t,2),n=e[0],c=e[1],u=Object(r.useState)(""),i=Object(o.a)(u,2),f=i[0],B=i[1],_=Object(r.useState)("us"),O=Object(o.a)(_,2),v=O[0],h=O[1];Object(r.useEffect)((function(){l.c("https://api.census.gov/data/2019/acs/acs5?get=".concat(l.d(b).join(),"&for=").concat(v,":").concat(E(d,n))).then((function(t){var e=l.f().key((function(t){var e=Object(o.a)(t,1)[0];return b[e]})).rollup((function(t){return l.j(t,(function(t){var e=Object(o.a)(t,2);e[0];return+e[1]}))})).entries(l.k(t).slice(0,-1)).map((function(t){return{name:t.key,value:t.value}}));console.log("selectedState: ",n),B(e)}))}),[n,v]);var m=Object(s.a)(d).map((function(t){return t[1]}));return f?Object(a.jsxs)("div",{children:[Object(a.jsx)(j,{data:f}),Object(a.jsx)("div",{className:"stateSelector",children:Object(a.jsx)("select",{value:n,onChange:function(t){c(t.target.value);var e=E(d,t.target.value);h("*"!==e?"state":"us")},children:m.map((function(t,e){return Object(a.jsxs)("option",{value:t,children:[t," "]},e)}))})}),Object(a.jsx)(p,{data:f})]}):Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Loading..."})})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.dc583cd7.chunk.js.map